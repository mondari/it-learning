# 后端开源项目对比

| 功能                           | [RuoYi](https://gitee.com/y_project/RuoYi)                   | [Guns](https://gitee.com/stylefeng/guns)          | [RuoYi-Vue](https://gitee.com/y_project/RuoYi-Vue)           | [eladmin](https://github.com/elunez/eladmin)                 | [Guns-Separation](https://gitee.com/stylefeng/guns-separation) | [vhr](https://github.com/lenve/vhr)                          | [Pig](https://gitee.com/log4j/pig)                           | [RuoYi-Cloud](https://gitee.com/y_project/RuoYi-Cloud) | [SpringBlade](https://gitee.com/smallc/SpringBlade) | [Cloud-Platform](https://gitee.com/geek_qi/cloud-platform) | 备注                                                         |
| ------------------------------ | ------------------------------------------------------------ | ------------------------------------------------- | ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------ | --------------------------------------------------- | ---------------------------------------------------------- | ------------------------------------------------------------ |
| 架构风格                       | 单体                                                         | 单体                                              | 前后端分离                                                   | 前后端分离                                                   | 前后端分离                                                   | 前后端分离                                                   | 微服务                                                       | 微服务                                                 | 微服务                                              | 微服务                                                     |                                                              |
| 安全框架                       | Shiro                                                        | Security                                          | Security                                                     | Security                                                     | Security                                                     | Security                                                     | Security                                                     |                                                        | Security                                            | Security                                                   |                                                              |
| 方法权限控制                   | 使用@RequiresPermissions注解实现方法级别权限控制             | **自定义@Permission注解+AOP**实现方法级别权限控制 | **@PreAuthorize**实现方法级别权限控制                        |                                                              |                                                              | N                                                            |                                                              |                                                        |                                                     |                                                            | 登录时根据用户名、密码和验证码请求令牌，后续请求带上令牌，然后由 JwtAuthorizationTokenFilter (继承 OncePerRequestFilter ) 根据令牌解析后的数据找到相应的 User Details（保存在Redis中），最后构造 UsernamePasswordAuthenticationToken 并保存在 SecurityContextHolder.getContext() 上下文中 |
| OAuth2                         | N                                                            | N                                                 | N                                                            | N                                                            |                                                              | N                                                            | 密码模式登录                                                 |                                                        |                                                     |                                                            |                                                              |
| 日志管理（业务日志和登录日志） | Y                                                            | Y                                                 | Y                                                            |                                                              |                                                              | N                                                            | Y                                                            |                                                        |                                                     |                                                            | **日志获取**：通过注解和切面实现；**异步记录**：RuoYi通过Spring ThreadPoolTaskExecutor实现；Guns通过JDK ScheduledThreadPoolExecutor实现；Pig通过在切面中发送ApplicationEvent事件，再通过EventListener注解监听和Async注解异步处理<br />Guns在处理编辑操作的业务日志前，会将修改前的记录先保存到全局Bean中，修改后对比两者差异，从而在日志中体现具体修改了哪些数据 |
| 分页框架                       | PageHelper                                                   | MyBatisPlus                                       | PageHelper                                                   |                                                              |                                                              | N                                                            | MyBatisPlus                                                  |                                                        |                                                     |                                                            |                                                              |
| 动态多数据源                   | AbstractRoutingDataSource+DataSourceHolder+自定义注解@DataSource+AOP | 同左                                              | 同左                                                         |                                                              |                                                              | N                                                            |                                                              |                                                        |                                                     |                                                            | 在切面中将@DataSource标注的数据源名称保存到DataSourceHolder（Thread Local）中，后续根据该名称找到相应的数据源 |
| 主从读写分离                   | N                                                            | N                                                 | N                                                            |                                                              |                                                              |                                                              |                                                              |                                                        |                                                     |                                                            |                                                              |
| DataScope 数据范围             | Y                                                            | Y                                                 | Y                                                            |                                                              |                                                              | N                                                            | Y                                                            |                                                        |                                                     |                                                            | RuoYi通过注解和切面实现，Guns和Pig通过MyBatis拦截器实现(DataScope作为mapper的入参) |
| 验证码                         | 1. 使用 [Kaptcha](https://github.com/penggle/kaptcha) 生成验证码并保存到 Session 中，然后通过 IO 流返回前端<br />2. 登录时在 Controller 中查询 Session，校验是否正确 | 同左                                              | 1. 后端使用 [Kaptcha](https://github.com/penggle/kaptcha) 生成验证码 + UUID 并保存到 Redis 中<br />2. 将验证码图片Base64 编码后，和 UUID 一起返回给前端<br />3. 登录时在 Controller 中通过 UUID 去 Redis 中查询 ，校验是否正确 | 使用 [EasyCaptcha](https://gitee.com/whvse/EasyCaptcha) 生成验证码，其它同 RuoYi-Vue |                                                              | 1. 使用 JDK 生成验证码并保存到 Session 中，然后通过 IO 流返回前端<br />2. 自定义并注册验证码过滤器，登录时在 Filter 中查询 Session，校验是否正确 | 同左，但是 UUID 是前端生成，验证码使用 [Kaptcha](https://github.com/penggle/kaptcha) 生成，验证码图片是通过 IO 流返回。另外，验证码生成是在网关中使用 WebFlux 完成，校验则使用自定义的 GatewayFilter 完成 |                                                        |                                                     |                                                            |                                                              |
| 登录密码请求加密               | N                                                            | N                                                 | N                                                            |                                                              |                                                              | N                                                            | Y                                                            |                                                        |                                                     |                                                            | Pig通过AES对称加密，前端传入加密后的密码，后端解密，避免密码在登录时泄露 |
| 用户密码保存方式               | MD5加盐                                                      | MD5加盐                                           | Y                                                            |                                                              |                                                              | BCryptPasswordEncoder                                        | BCryptPasswordEncoder                                        |                                                        |                                                     |                                                            |                                                              |
| XssFilter 过滤非法字符         | Y                                                            | Y                                                 | Y                                                            |                                                              |                                                              | N                                                            | N                                                            |                                                        |                                                     |                                                            | 使用正则表达式过滤                                           |
| Excel报表                      | 基于 Apache POI 封装Excel 注解和 ExcelUtil 工具类            | [EasyPOI](https://gitee.com/lemur/easypoi)        | Y                                                            |                                                              |                                                              | Apache POI                                                   | N                                                            |                                                        |                                                     |                                                            |                                                              |
| 前后端代码生成                 | Y                                                            | Y                                                 | Y                                                            |                                                              |                                                              | N                                                            |                                                              |                                                        |                                                     |                                                            |                                                              |
| 定时任务                       | Quartz                                                       | Quartz                                            |                                                              |                                                              |                                                              | N                                                            |                                                              |                                                        |                                                     |                                                            |                                                              |
| Swagger                        | Y                                                            | Y                                                 |                                                              |                                                              |                                                              | N                                                            |                                                              |                                                        |                                                     |                                                            |                                                              |
| 国际化                         | Y                                                            | N                                                 |                                                              |                                                              |                                                              | N                                                            |                                                              |                                                        |                                                     |                                                            |                                                              |
| 邮件                           | N                                                            | N                                                 |                                                              |                                                              |                                                              | Y                                                            |                                                              |                                                        |                                                     |                                                            |                                                              |
| WebSocket                      | N                                                            | N                                                 |                                                              |                                                              |                                                              | Y                                                            |                                                              |                                                        |                                                     |                                                            |                                                              |

