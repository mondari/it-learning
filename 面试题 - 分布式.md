[TOC]

## CAP 原则

CAP 原则又称 CAP 定理，指的是在一个分布式系统中，一致性（Consistency）、可用性（Availability）、分区容错性（Partition tolerance）这三个要素最多只能同时实现两个，不可能三者兼得。

## 分布式锁的实现方式

参考优秀博客：http://www.hollischuang.com/archives/1716

1. 基于数据库实现分布式锁 

2. 基于缓存（redis，memcached）实现分布式锁 

3. 基于Zookeeper实现分布式锁

## 如何保证分布式 session 的一致性

由于 session 是保存在服务器上，而在分布式环境下，每台服务器的 session 是不一样的，所以要保证 session 的一致性，可以采取以下措施：

- 使用 nginx ip hash 负载均衡策略，保证每个请求转发到固定的服务器
- 将 session 保存到 redis 缓存中

